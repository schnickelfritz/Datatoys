{% extends 'base.html.twig' %}
{% block title %}{{ parent() }} :: {{ 'admin.candidate.update.title'|trans }}{% endblock %}
{% block body %}
    <twig:Box>
        <twig:Row rowClass="mb-4">
            <h1 class="h3"><twig:Icon name="person-rolodex" />{{ 'admin.candidate.update.title'|trans }}</h1>
        </twig:Row>
        <twig:FormStart form="{{ form_candidate }}"/>
        <twig:FormRow field="{{ form_candidate.name }}" />
        <twig:FormRow field="{{ form_candidate.email }}" />
        <twig:FormRow field="{{ form_candidate.roles }}" toggle="true" />
        <twig:ButtonsRow
                rowClass="pt-3"
                icon="pencil"
                field="{{ form_candidate.submit }}"
                label="admin.candidate.update.submitbutton"
                cancelPath="app_admin_user_list"
                modalId="candidate_delete"
                modalIcon="eraser-fill"
                modalLabel="{{ 'modal.delete.button'|trans }}"
        />
        {{ form_end(form_candidate) }}
        <twig:ModalDeleteFormContainer
                id="candidate_delete"
                title="{{ 'admin.candidate.delete.title' }}"
                path="app_admin_user_candidate_delete"
                deleteId="{{ candidate_selected.id }}"
        >
            {{ 'admin.candidate.delete.confirm_text'|trans({'%name%': candidate_selected.name}, 'messages')|raw }}
        </twig:ModalDeleteFormContainer>
    </twig:Box>
    <twig:Box>
        <twig:Row label="admin.candidate.list.title">
            {{ include('admin/user/_candidate_list.html.twig') }}
        </twig:Row>
        <twig:Row rowClass="mt-3">
            <a href="{{ path('app_admin_user_candidate_create') }}" class="btn btn-primary">
                <twig:Icon name="plus-circle" />{{ 'admin.candidate.create.link'|trans }}
            </a>
        </twig:Row>
    </twig:Box>
    <twig:Box>
        <twig:Row label="admin.user.list.title">
            {{ include('admin/user/_list.html.twig') }}
        </twig:Row>
    </twig:Box>
{% endblock %}